<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profil - Assignment Center 2.0</title>
    <!-- Verknüpfung mit der externen CSS-Datei für das Styling -->
    <link rel="stylesheet" href="../styles/main.css" />
  </head>
  <body>
    <!-- Header -->
    <header>
      <h1>Assignment Center 2.0</h1>
      <nav>
        <!-- Navigation mit Links zu verschiedenen Seiten -->
        <a href="../pages/main.html">Home</a>
        <a href="../pages/profile.html">Profil</a>
        <a href="../pages/login.html">Abmelden</a>
      </nav>
    </header>

    <!-- Main Content -->
    <main>
      <h2>Mein Profil</h2>
      <div class="profile-container">
        <!-- Profilbild -->
        <div class="profile-pic-con">
          <!-- Container für das Profilbild -->
          <div class="profile-picture">
            <!-- Das Profilbild wird hier angezeigt -->
            <img
              id="profileImg"
              src="../../public/no-user.png"
              alt="Profilbild"
            />
          </div>
          <!-- Eingabefeld für das Hochladen eines neuen Profilbildes -->
          <input type="file" id="fileInput" accept="image/*" />
        </div>

        <!-- Profilinformationen (Formular) -->
        <form id="profileForm">
          <!-- Name des Benutzers -->
          <label for="name">Name:</label>
          <input type="text" id="name" value="Max Mustermann" />

          <!-- Status des Benutzers (Student oder Tutor) -->
          <label for="status">Status:</label>
          <select id="status">
            <option value="student" selected>Student</option>
            <!-- Standardmäßig als Student ausgewählt -->
            <option value="tutor">Tutor</option>
          </select>

          <!-- Beschreibung des Benutzers -->
          <label for="description">Beschreibung:</label>
          <textarea id="description">
Ich bin ein Student und arbeite an verschiedenen Projekten.</textarea
          >

          <!-- Button zum Speichern der Änderungen -->
          <button type="submit" id="saveBtn">Änderungen speichern</button>
        </form>
      </div>
    </main>

    <!-- Footer -->
    <footer>
      <p>&copy; 2024 Assignment Center</p>
    </footer>

    <!-- JavaScript -->
    <script>
      // Funktion, um das Profilbild zu ändern
      const fileInput = document.getElementById("fileInput");
      const profileImg = document.getElementById("profileImg");

      fileInput.addEventListener("change", function (event) {
        const file = event.target.files[0]; // Das ausgewählte Bild
        if (file) {
          // Wenn ein Bild ausgewählt wurde
          const reader = new FileReader(); // Erstellen eines FileReaders
          reader.onload = function (e) {
            profileImg.src = e.target.result; // Setzt das Bild auf das ausgewählte Bild
            // Entfernen des Standardbilds und Anzeigen des neuen Bilds
            profileImg.style.display = "block";
          };
          reader.readAsDataURL(file); // Liest das Bild als Data-URL
        } else {
          // Wenn kein Bild ausgewählt wurde, setze das Standardbild zurück
          profileImg.src = "default-avatar.png";
          profileImg.style.display = "none"; // Standardbild wird verborgen
        }
      });

      // Funktion, um die Profiländerungen zu speichern
      const saveBtn = document.getElementById("saveBtn");

      saveBtn.addEventListener("click", function (event) {
        event.preventDefault(); // Verhindert das standardmäßige Absenden des Formulars
        const name = document.getElementById("name").value; // Name aus dem Formular
        const status = document.getElementById("status").value; // Status aus dem Dropdown
        const description = document.getElementById("description").value; // Beschreibung aus dem Textfeld

        // Hier können die Daten gespeichert werden, z.B. in localStorage oder im Backend
        alert(
          `Profil gespeichert:\nName: ${name}\nStatus: ${status}\nBeschreibung: ${description}`
        );
      });
    </script>
  </body>
</html>
